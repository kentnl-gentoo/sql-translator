<?xml version="1.0" encoding="UTF-8"?>
<!-- 
Created by SQL::Translator::Producer::XML
Created on Fri Aug  1 11:24:58 2003

 -->

<sqlf:schema xmlns:sqlf="http://sqlfairy.sourceforge.net/sqlfairy.xml">
    
  <sqlf:table>
    <sqlf:name>Basic</sqlf:name>
    <sqlf:order>1</sqlf:order>
    <sqlf:fields>
      <sqlf:field>
        <sqlf:name>id</sqlf:name>
        <sqlf:is_primary_key>1</sqlf:is_primary_key>
        <sqlf:is_auto_increment>1</sqlf:is_auto_increment>
        <sqlf:data_type>int</sqlf:data_type>
        <sqlf:is_nullable>0</sqlf:is_nullable>
        <sqlf:size>10</sqlf:size>
        <sqlf:order>1</sqlf:order>
      </sqlf:field>
      <sqlf:field>
        <sqlf:name>title</sqlf:name>
        <sqlf:data_type>varchar</sqlf:data_type>
        <sqlf:size>100</sqlf:size>
        <sqlf:default_value>hello</sqlf:default_value>
        <sqlf:is_nullable>0</sqlf:is_nullable>
        <sqlf:order>2</sqlf:order>
      </sqlf:field>
      <sqlf:field>
        <sqlf:name>description</sqlf:name>
        <sqlf:data_type>text</sqlf:data_type>
        <sqlf:default_value></sqlf:default_value>
        <sqlf:order>3</sqlf:order>
      </sqlf:field>
      <sqlf:field>
        <sqlf:name>email</sqlf:name>
        <sqlf:data_type>varchar</sqlf:data_type>
        <sqlf:is_nullable>1</sqlf:is_nullable>
        <sqlf:size>255</sqlf:size>
        <sqlf:order>4</sqlf:order>
      </sqlf:field>
      <sqlf:field>
        <sqlf:name>explicitnulldef</sqlf:name>
        <sqlf:data_type>varchar</sqlf:data_type>
        <sqlf:is_nullable>1</sqlf:is_nullable>
        <sqlf:default_value>NULL</sqlf:default_value>
        <sqlf:order>5</sqlf:order>
      </sqlf:field>
      <sqlf:field>
        <sqlf:name>explicitemptystring</sqlf:name>
        <sqlf:data_type>varchar</sqlf:data_type>
        <sqlf:is_nullable>1</sqlf:is_nullable>
        <sqlf:default_value>EMPTY_STRING</sqlf:default_value>
        <sqlf:order>6</sqlf:order>
      </sqlf:field>
      <sqlf:field>
        <sqlf:name>emptytagdef</sqlf:name>
        <sqlf:data_type>varchar</sqlf:data_type>
        <sqlf:is_nullable>1</sqlf:is_nullable>
        <sqlf:default_value/>
        <sqlf:order>7</sqlf:order>
      </sqlf:field>
    </sqlf:fields>
    
    <sqlf:indices>
      <sqlf:index>
        <sqlf:fields>title</sqlf:fields>
        <sqlf:name>titleindex</sqlf:name>
        <sqlf:type>NORMAL</sqlf:type>
      </sqlf:index>
    </sqlf:indices>
    
    <sqlf:constraints>
      <sqlf:constraint>
        <sqlf:deferrable>1</sqlf:deferrable>
        <sqlf:fields>email</sqlf:fields>
        <sqlf:name>emailuniqueindex</sqlf:name>
        <sqlf:type>UNIQUE</sqlf:type>
      </sqlf:constraint>
    </sqlf:constraints>
  </sqlf:table>
  
  <sqlf:view>
    <sqlf:fields>email</sqlf:fields>
    <sqlf:name>email_list</sqlf:name>
    <sqlf:order>1</sqlf:order>
    <sqlf:sql>SELECT email FROM Basic WHERE email IS NOT NULL</sqlf:sql>
  </sqlf:view>
  
  <sqlf:trigger>
    <sqlf:action>update modified=timestamp();</sqlf:action>
    <sqlf:database_event>insert</sqlf:database_event>
    <sqlf:name>foo_trigger</sqlf:name>
    <sqlf:on_table>foo</sqlf:on_table>
    <sqlf:order>1</sqlf:order>
    <sqlf:perform_action_when>after</sqlf:perform_action_when>
  </sqlf:trigger>
  
  <sqlf:procedure>
    <sqlf:comments>Go Sox!</sqlf:comments>
    <sqlf:name>foo_proc</sqlf:name>
    <sqlf:order>1</sqlf:order>
    <sqlf:owner>Nomar</sqlf:owner>
    <sqlf:parameters>foo,bar</sqlf:parameters>
    <sqlf:sql>select foo from bar</sqlf:sql>
  </sqlf:procedure>

</sqlf:schema>
